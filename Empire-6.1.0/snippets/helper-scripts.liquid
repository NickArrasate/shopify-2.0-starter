<script>
$('.live-search-form').mouseenter( function(){
  $('.live-search-form-field').addClass('expand');
})
$('.live-search-form').mouseleave(function() {
  $('.live-search-form-field').removeClass('expand');
  }).delay(800);

$('a[class*="remover"]').click(function () {
  var target = $(this).attr('data-remover');
  $('.remove_target'+target).hide()
})

$('.site-header')
  .mouseenter( function(){
    $('.site-header').addClass('inverted')
    $('.site-header-logo').addClass('inverted')
    $('.site-navigation').addClass('inverted')
    $('.site-header-main-content').addClass('inverted')
    $('.navmenu-id-where-to-buy').addClass('inverted')
    $('.live-search-form').addClass('inverted')
  })
  .mouseleave(function() {
    $('.site-header').removeClass('inverted')
    $('.site-header-logo').removeClass('inverted')
    $('.site-navigation').removeClass('inverted')
    $('.site-header-main-content').removeClass('inverted')
    $('.navmenu-id-where-to-buy').removeClass('inverted')
    $('.live-search-form').removeClass('inverted')
});
$('.navmenu-depth-1').hover( function(){
  $('.opener-helper').removeClass('opener-helper');
  $('.stay-open').removeClass('stay-open')
})
widthSize = function(){
  var width = $(window).width();
  if (width < 1024){
    $('.site-header.reversed').removeClass('reversed')

  } else if( width >= 1024 && $(document).scrollTop() <= 200 ) {
    $('.site-header').not('.scroll-ignore').addClass('reversed')
  }
  if (width < 450){
    $('body').css('margin-top', '30px');
  }
  else if (width < 774){
    // var headerHeight = $('.site-header').outerHeight();
    $('body').css('margin-top', '8px');

  } else if( width >= 774) {
    $('body').css('margin-top', 'unset');
  }
}
addShrinkClasses = function(template) {
  $('.site-header.reversed').removeClass('reversed')
  $('.site-header').addClass('shrink')
  // $('.site-header-main').addClass('hide')
  $('.site-logo-image.shrink').addClass('show')
  $('.site-logo-image').addClass('hide')
  $('.site-logo_mobile-image').addClass('hide')
  if (template){
    $('.site-header').addClass('no-revert')
    // $('.site-header-main').addClass('no-revert')
    // $('.site-logo-image.shrink').addClass('no-revert')
    $('.site-logo-image').addClass('no-revert')
    $('.site-logo_mobile-image').addClass('no-revert')
  }
}

// scroll top menu rules
$(document).scroll(function() {
  if ($(document).scrollTop() > 160){
    addShrinkClasses()
  }
  else if (width = $(window).width() >= 1041 || $(document).scrollTop() <= 160 ) {
    var width = $(window).width();
      if (width >= 1041){
        $('.site-header').not('.scroll-ignore').addClass('reversed')
      }
    $('.site-header').not('.no-revert').removeClass('shrink')
    $('.site-header').not('.no-revert').removeClass('hide')
    $('.site-header-main').not('.no-revert').removeClass('hide')
    $('.site-logo-image.shrink').not('.no-revert').removeClass('show')
    $('.site-logo-image').not('.no-revert').removeClass('hide')
    $('.site-logo_mobile-image').not('.no-revert').removeClass('hide')
  }

})

$( window ).resize(function() {
  widthSize()
});
$(document).ready(function() {
  var height = $('.site-header').outerHeight()
  $('body').not('.scroll-ignore').css('padding-top', height)
  widthSize()
})

$(document).ready(function() {
  $(".blog-btns .btn").not('.exclude').bind("click", function(event) {
    event.preventDefault();
    var clickedItem = $(this);
    $(".blog-btns .btn").each(function() {
        $(this).removeClass("active");
    });
    clickedItem.addClass("active");
  });
  $(".blog-nav a").not('.exclude').bind("click", function(event) {
    event.preventDefault();
    var clickedItem = $(this);
    $(".blog-nav a").each(function() {
        $(this).removeClass("active");
    });
    clickedItem.addClass("active");
  });
});
  $('.review-anchor').on("click", function(e) {
    e.preventDefault()
    var target = $(this).attr('href').replace('#','')
    $('html,body').animate({scrollTop:$("a[name='"+ target +"']").offset().top - 220},'slow');
  });

  // gallery next-prev

  var galleryNavMover = function(){
    var height =  $('.product-gallery--image.is-selected').outerHeight() || 540;
    console.log(height);
    $('.gallery-nav-wrap.apparel').css('top', height + 'px');
  }


  $('#gallery-prev').on('click', function(){
      var selected = $('.thumbnail--selected').attr('data-product-thumbnail');
      var index = parseInt(selected) - 1;
      $( "button[data-product-thumbnail='" + index + "']" ).click();
      galleryNavMover();
    }
  )
  $('#gallery-next').on('click', function(){
      var selected = $('.thumbnail--selected').attr('data-product-thumbnail');
      var index = parseInt(selected) + 1;
      $( "button[data-product-thumbnail='" + index + "']" ).click();
      galleryNavMover();
    }
  )
  $('#gallery-prev-mobile').on('click', function(){
      var selected = $('.thumbnail--selected').attr('data-product-thumbnail');
      var index = parseInt(selected) - 1;
      $( "button[data-product-thumbnail='" + index + "']" ).click();
      galleryNavMover();
    }
  )
  $('#gallery-next-mobile').on('click', function(){
      var selected = $('.thumbnail--selected').attr('data-product-thumbnail');
      var index = parseInt(selected) + 1;
      $( "button[data-product-thumbnail='" + index + "']" ).click();
      galleryNavMover();
    }
  )
  $(document).ready(function(){
    galleryNavMover();
  })
  $( window ).resize(function() {
    galleryNavMover();
  });
</script>