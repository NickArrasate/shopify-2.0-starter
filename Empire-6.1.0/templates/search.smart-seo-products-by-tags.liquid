{%- layout none -%}

{%- paginate search.results by 10 -%}
{%- if search.performed -%}
{"products": [
    {%- comment %}<locksmith:e294>{% endcomment -%}
      {%- assign locksmith_3204_forloop__size = 0 %}{%- for item in search.results -%}{% capture var %}{% render 'locksmith-variables', scope: 'subject', subject: item, variable: 'transparent' %}{% endcapture %}{% if var == 'true' %}{% assign locksmith_3204_forloop__size = locksmith_3204_forloop__size | plus: 1 %}{% endif %}{% endfor %}{% assign locksmith_3204_forloop__index = nil -%}
    {%- comment %}</locksmith:e294>{% endcomment -%}
    {%- for item in search.results -%}
        {%- comment %}<locksmith:8e2c>{% endcomment -%}
          {%- capture var %}{% render 'locksmith-variables', scope: 'subject', subject: item, subject_parent: search, variable: 'transparent' %}{% endcapture %}{% if var == "true" %}{% if locksmith_3204_forloop__index == nil %}{% assign locksmith_3204_forloop__index = 1 %}{% assign locksmith_3204_forloop__index0 = 0 %}{% else %}{% assign locksmith_3204_forloop__index = locksmith_3204_forloop__index | plus: 1 %}{% assign locksmith_3204_forloop__index0 = locksmith_3204_forloop__index0 | plus: 1 %}{% endif %}{% if locksmith_3204_forloop__index == 1 %}{% assign locksmith_3204_forloop__first = true %}{% else %}{% assign locksmith_3204_forloop__first = false %}{% endif %}{% if locksmith_3204_forloop__index == locksmith_3204_forloop__size %}{% assign locksmith_3204_forloop__last = true %}{% else %}{% assign locksmith_3204_forloop__last = false %}{% endif %}{% assign locksmith_3204_forloop__rindex = locksmith_3204_forloop__size | minus: locksmith_3204_forloop__index | minus: 1 %}{% assign locksmith_3204_forloop__rindex0 = locksmith_3204_forloop__size | minus: locksmith_3204_forloop__index0 | minus: 1 %}{% else %}{% continue %}{% endif -%}
        {%- comment %}</locksmith:8e2c>{% endcomment -%}
        {"id":{{ item.id | json }},"title":{{ item.title | json }},"handle":{{ item.handle | json }},"price":{{ item.price | money_without_currency | json }},"images":[{% for image in item.images %}{"src":{{ image.src | json }},"id":{{ image.id | json }},"alt":{{ image.alt | json }}}{%- unless locksmith_3204_forloop__last %},{% endunless -%}{%- endfor -%}],"variants":[{% for variant in item.variants %}{"id":{{ variant.id | json }},"price":{{ variant.price | money_without_currency | json }},"compare_at_price":{{ variant.compare_at_price | money_without_currency  | json }}}{%- unless locksmith_3204_forloop__last %},{% endunless -%}{%- endfor -%}]}
        {%- unless locksmith_3204_forloop__last %},{% endunless -%}
    {%- endfor -%}
]}
{%- endif -%}
{%- endpaginate -%}